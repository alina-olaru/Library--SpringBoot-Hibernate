
<h1 mat-dialog-title fxLayoutAlign="center center">
  <span *ngIf="data.type=='add'">
    Adauga Voucher
  </span>
  <span *ngIf="data.type=='edit'">
    Editeaza
  </span>
</h1>
<form fxLayout="column" [formGroup]="localForm" (ngSubmit)="SubmitForm()">
  <div mat-dialog-content class="example-container" fxLayout="row wrap" fxLayoutGap="10px">

    <div class="input-row" *ngIf="data.type=='edit'" fxFlex="calc(50%-10px)">
      <mat-form-field fxFlex>
        <input matInput placeholder="Id" formControlName="voucherId">
      </mat-form-field>
    </div>


    <div class="input-row" fxFlex="calc(50%-10px)">
      <mat-form-field fxFlex>
        <input matInput placeholder="Titlu*" formControlName="voucherTitle">
        <mat-error *ngIf="form.voucherTitle?.invalid">
          Titlul este obligatoriu
        </mat-error>
      </mat-form-field>
    </div>


    <div class="input-row" fxFlex="calc(100%-10px)">
      <mat-form-field fxFlex>
        <textarea rows=3 matInput placeholder="Descriere" formControlName="voucherDescription"></textarea>

      </mat-form-field>
    </div>



    <div class="input-row" fxFlex="calc(50%-10px)">
      <mat-form-field fxFlex>
        <input matInput placeholder="Nr de utilizari*" formControlName="voucherMaximumUses">
        <mat-error *ngIf="form.voucherMaximumUses?.invalid">
          Numarul maxim de utilizari este obligatoriu
        </mat-error>
      </mat-form-field>
    </div>


    <div class="input-row" fxFlex="calc(50%-10px)">
      <mat-form-field fxFlex>
        <input matInput placeholder="Valoare discount*" formControlName="voucherPrice">
        <mat-error *ngIf="form.voucherPrice?.invalid">
        Valoarea discountului este obligatorie
        </mat-error>
      </mat-form-field>
    </div>

    <div class="input-row" fxFlex="calc(50%-10px)">
    <mat-form-field fxFlex (click)="picker_start.open()">
      <mat-label>Data de inceput</mat-label>
      <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker_start" formControlName="voucherStartDate" disabled>
      <mat-datepicker-toggle matSuffix [for]="picker_start"></mat-datepicker-toggle>
      <mat-error *ngIf="form.voucherStartDate?.invalid">
       Data este obligatorie
        </mat-error>
      <mat-datepicker #picker_start disabled="false"></mat-datepicker>
    </mat-form-field>
  </div>


  <div class="input-row"  fxFlex="calc(50%-10px)">
    <mat-form-field fxFlex (click)="picker_end.open()">
      <mat-label>Data de final</mat-label>
      <!-- {{form.voucherStartDate | date }} TODO cum fac sa pun direct data pe care ai selectat o anterior -->
      <input matInput [min]="minDate" [max]="maxDate" [matDatepicker]="picker_end" formControlName="voucherEndDate" disabled>
      <mat-datepicker-toggle matSuffix [for]="picker_end"></mat-datepicker-toggle>
      <mat-error *ngIf="form.voucherEndDate?.invalid">
        Data este obligatorie
        </mat-error>
      <mat-datepicker #picker_end disabled="false"></mat-datepicker>
    </mat-form-field>
  </div>
  <div fxFlex></div>



  <div class="input-row" fxFlex="calc(50%-10px)">
    <mat-form-field fxFlex>
      <input matInput placeholder="Limba*" formControlName="language">

    </mat-form-field>
  </div>



  </div>
  <div mat-dialog-actions fxLayout="row" fxLayoutAlign="space-around center" >
    <button mat-button color="primary" type="submit" cdkFocusInitial *ngIf="data.type=='add'">
      <mat-icon>add</mat-icon> Adauga
    </button>
    <button mat-button color="primary" type="submit" cdkFocusInitial *ngIf="data.type=='edit'">
      <mat-icon>save</mat-icon> Salveaza
    </button>
    <button mat-button color="warn" type="button" (click)="onNoClick()">
      <mat-icon>close</mat-icon> Renunta
    </button>
  </div>

</form>

